// ê³ ì°¨í•¨ìˆ˜ ë©”ì„œë“œë“¤

// ë°°ì—´ì˜ ê³ ì°¨í•¨ìˆ˜(higher order function) ë©”ì„œë“œ
// ë‹¤ë¥¸ í•¨ìˆ˜(ì½œë°± í•¨ìˆ˜)ë¥¼ ì¸ìžë¡œ ë°›ìŒ
// í•¨ìˆ˜í˜• í”„ë¡œê·¸ëž˜ë° - ë³€ìˆ˜ ì‚¬ìš© ì—†ì´ ìˆœíšŒ ìž‘ì—…ë“¤ì„ ì½”ë”©

// 1. forEach - ê° ìš”ì†Œë¥¼ ì¸ìžë¡œ ì½œë°±í•¨ìˆ˜ ì‹¤í–‰
// forë¬¸ì˜ ì¢‹ì€ ëŒ€ì²´ìž¬
// ë‹¨ì : ì˜ˆì™¸ë¥¼ ë˜ì§€ì§€ ì•Šìœ¼ë©´ ì¢…ë£Œí•  ìˆ˜ ì—†ìŒ - break, continue ì‚¬ìš© ë¶ˆê°€
// ì½œë°±í•¨ìˆ˜ - ì¸ìž: (í˜„ìž¬ ê°’, í˜„ìž¬ ê°’ì˜ ì¸ë±ìŠ¤, í•´ë‹¹ ë°°ì—´)
// thisArg - this ì£¼ì œ ì„¹ì…˜ì—ì„œ ë‹¤ë£° ê²ƒ

const arr = [1, 2, 3, 4, 5]
// ì½œë°±í•¨ìˆ˜ì˜ ì¸ìžê°€ ì…‹ì¼ ë•Œ
arr.forEach((itm, idx, arr) => {
	// ðŸ’¡ ì„¸ ë²ˆì§¸ ì¸ìžëŠ” ì›ë³¸ ë°°ì—´ì˜ ì°¸ì¡°ìž„
	arr[idx]++
	console.log(itm)
})

// 2. map - ê° ìš”ì†Œë¥¼ ì£¼ì–´ì§„ ì½œë°±í•¨ìˆ˜ë¡œ ì²˜ë¦¬í•œ ìƒˆ ë°°ì—´ ë°˜í™˜
// ì½œë°±í•¨ìˆ˜ - ì¸ìž: (í˜„ìž¬ ê°’, í˜„ìž¬ ê°’ì˜ ì¸ë±ìŠ¤, í•´ë‹¹ ë°°ì—´)
// thisArg

const orgArr = [1, 2, 3, 4, 5]

// â­ï¸ ê° ì½œë°±í•¨ìˆ˜ëŠ” ì–´ë–¤ ê°’ì„ ë°˜í™˜í•´ì•¼ í•¨
const arr1 = orgArr.map((i) => i + 1)
const arr2 = orgArr.map((i) => i * i)
const arr3 = orgArr.map((i) => (i % 2 ? 'í™€ìˆ˜' : 'ì§ìˆ˜'))

// 3. find, findLast, findIndex, findLastIndex - ì£¼ì–´ì§„ ê¸°ì¤€ìœ¼ë¡œ ê²€ìƒ‰
// ì½œë°±í•¨ìˆ˜ë¡œì— ì¸ìžë¡œ ë„£ì—ˆì„ ë•Œ trueë¥¼ ë°˜í™˜í•˜ëŠ”
// find - ì²« ë²ˆì§¸ ê°’ ë°˜í™˜
// findLast - ë§ˆì§€ë§‰ ê°’ ë°˜í™˜
// findIndex - ì²« ë²ˆì§¸ ê°’ì˜ ì¸ë±ìŠ¤ ë°˜í™˜
// findLastIndex - ë§ˆì§€ë§‰ ê°’ì˜ ì¸ë±ìŠ¤ ë°˜í™˜

// ì½œë°±í•¨ìˆ˜ - ì¸ìž: (í˜„ìž¬ ê°’, í˜„ìž¬ ê°’ì˜ ì¸ë±ìŠ¤, í•´ë‹¹ ë°°ì—´)
// thisArg
const arr4 = [1, 2, 'ì‚¼', 4, 5, 6, 'ì¹ ', 8, 9]
const isString = (i) => typeof i === 'string'
const isBoolean = (i) => typeof i === 'boolean'
console.log(arr4.find(isString), arr4.findLast(isString), arr4.findIndex(isString), arr4.findLastIndex(isString))

// 4. some, every - ì–´ë–¤ / ëª¨ë“  ìš”ì†Œê°€ ê¸°ì¤€ì„ ì¶©ì¡±í•˜ëŠ”ì§€ í™•ì¸
// some - ìš”ì†Œë“¤ ì¤‘ í•˜ë‚˜ë¼ë„ trueë¥¼ ë°˜í™˜í•˜ëŠ”ê°€ ì—¬ë¶€ ë°˜í™˜
// every - ëª¨ë“  ìš”ì†Œê°€ trueë¥¼ ë°˜í™˜í•˜ëŠ”ê°€ ì—¬ë¶€ ë°˜í™˜
// ì½œë°±í•¨ìˆ˜ - ì¸ìž: (í˜„ìž¬ ê°’, í˜„ìž¬ ê°’ì˜ ì¸ë±ìŠ¤, í•´ë‹¹ ë°°ì—´)
// thisArg
const arr5 = [1, 2, 3, 4, 5, 6, 7, 8, 9]
console.log(
	arr5.some((i) => i % 2),
	arr5.every((i) => i % 2),
	arr5.some((i) => i < 0),
	arr5.every((i) => i < 10)
)

// 5. filter - ì£¼ì–´ì§„ ê¸°ì¤€ì„ ì¶©ì¡±í•˜ëŠ” ìš”ì†Œë“¤ë¡œ ìƒˆ ë°°ì—´ ë§Œë“¤ì–´ ë°˜í™˜
// ì›ë³¸ ë°°ì—´ì„ ìˆ˜ì •í•˜ì§€ ì•ŠìŒ
// ì½œë°±í•¨ìˆ˜ - ì¸ìž: (í˜„ìž¬ ê°’, í˜„ìž¬ ê°’ì˜ ì¸ë±ìŠ¤, í•´ë‹¹ ë°°ì—´)
// thisArg
const arr6 = [1, 2, 3, 4, 5, 6, 7, 8, 9]
const odds = arr6.filter((i) => i % 2)
const evens = arr6.filter((i) => !(i % 2))
const largerThan3 = arr6.filter((i) => i > 3)
console.log(odds)
console.log(evens)
console.log(largerThan3)

// 6. reduce, reduceRight
// ì£¼ì–´ì§„ ì½œë°±í•¨ìˆ˜ì— ë”°ë¼ ê°’ë“¤ì„ ì ‘ì–´ ë‚˜ê°
// ì½œë°±í•¨ìˆ˜ - ì¸ìž: (ì´ì „ê°’, í˜„ìž¬ê°’, í˜„ìž¬ ì¸ë±ìŠ¤, í•´ë‹¹ ë°°ì—´)
// ì´ˆê¸°í™” ê°’
const arr7 = ['ê°€', 'ë‚˜', 'ë‹¤', 'ë¼', 'ë§ˆ', 'ë°”', 'ì‚¬']
console.log(
	arr7.reduce((prev, curr, idx) => {
		console.log(`p: ${prev}, c: ${curr}, i: ${idx}`)
		return prev + curr
	})
)
console.log(
	arr7.reduceRight((prev, curr, idx) => {
		console.log(`p: ${prev}, c: ${curr}, i: ${idx}`)
		return prev + curr
	})
)
// ë§Œì•½ ìœ„ ê¸°ëŠ¥ì„ ë°°ì—´ ë©”ì„œë“œì™€ ì²´ì´ë‹ ì—†ì´ ì§°ë‹¤ë©´?
// ì¤‘ê°„ ê³¼ì •ì„ ì €ìž¥í•˜ê¸° ìœ„í•œ ë³€ìˆ˜ ë˜ëŠ” ë‚´ìš©ì´ ë°”ë€ŒëŠ” ì°¸ì¡°í˜• ë°ì´í„°ë“¤ì´ ì‚¬ìš©ë˜ì—ˆì„ ê²ƒ
// í•¨ìˆ˜í˜• í”„ë¡œê·¸ëž˜ë° - ë³€ìˆ˜ë“¤ì„ ì½”ë“œì—ì„œ ê°ì¶”ì–´ ë¶€ìˆ˜íš¨ê³¼ë¡œ ì¸í•œ ë¬¸ì œ ë°©ì§€

// 7. sort - ë°°ì—´ì„ (ì£¼ì–´ì§„ ê¸°ì¤€ëŒ€ë¡œ) ì •ë ¬
// ë°°ì—´ ìžì²´ì˜ ìˆœì„œë¥¼ ë°”ê¿ˆ - ì›ë³¸ ìˆ˜ì •
// í•´ë‹¹ ë°°ì—´ì„ ë°˜í™˜
// ì½œë°±í•¨ìˆ˜(í•„ìˆ˜ ì•„ë‹˜) - ì¸ìž: (ì•žì˜ ê°’, ë’¤ì˜ ê°’)
// ì •í™•í•œ ì •ë ¬ì„ ìœ„í•´ - ì½œë°± í•¨ìˆ˜ ì‚¬ìš©
// ë‘ ì¸ìž aì™€ b: ì¸ì ‘í•œ ë‘ ìš”ì†Œ
// 0ë³´ë‹¤ í° ê°’ ë°˜í™˜: bë¥¼ ì•žìœ¼ë¡œ - ìˆœì„œ ë’¤ì§‘ìŒ
// 0ë°˜í™˜: ìˆœì„œ ìœ ì§€ - ECMAScript í‘œì¤€ì€ ì•„ë‹ˆë¯€ë¡œ í™˜ê²½ë§ˆë‹¤ ë‹¤ë¥¼ ìˆ˜ ìžˆìŒ
// 0ë³´ë‹¤ ìž‘ì€ ê°’ ë°˜í™˜: aë¥¼ ì•žìœ¼ë¡œ - ì‚¬ì‹¤ìƒ ìˆœì„œ ìœ ì§€

// 8. flatMap - mapí•œ ë‹¤ìŒ flat(ë§¤í•‘í•´ì„œ íŽ¼ì¹¨)
// ì½œë°±í•¨ìˆ˜ - ì¸ìž: (í˜„ìž¬ ê°’, í˜„ìž¬ ê°’ì˜ ì¸ë±ìŠ¤, í•´ë‹¹ ë°°ì—´)
// thisArg
const arr8 = [1, 2, 3, 4, 5]

// ðŸ’¡ í•œ ë‹¨ê³„ë§Œ íŽ¼ì¹¨
console.log(arr8.flatMap((i) => [i, [i], [[i]]]))
